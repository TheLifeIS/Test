1.Какво е характерно за регистрите с общо предназначение при 64-битов
режим на адресация?
Специфичното е че се добавят , r8-r15 и за тях се ползва REX.
2.Опишете сегментните регистри и предназначението им:
Съдържат селектори водещи до ентрита в , GDT/LDT.
3.Какви класове инструкции знаем?
Инструкции за обработка на данни и работа с паметта Аритметични и логически за , ,
управление на поток копроцесорни , .
4.Опишете режимите на адресация при IA32 и Intel-64:
Използват се следните модела 3 :
Flat memory model – Паметта се явява като едно непрекъснато адресно пространство ,
наречено пространство на линейно адресиране .
Segmented memory model – Паметта се явява пред програмата като група от независими
адресни пространства наречени сегменти .
Real-address mode memory model – Използва специфична имплементация на
сегментирана памет в която линейното адресно пространство и ОС се състои от масив ,
от сегменти .
5.Пояснете приложението и начина на работа на SIB-байта:
SIB-байта не е задължителен и ако се използва трябва да бъде след Mod R/M байта.
SIB прави ефективния адрес по изразителен и по този начин се ползват по малко - -
инструкции за определяне на по сложни адреси Формата се представя като - . Index*Scale
+ Base.
6.Опишете основните типове данни при IA32:
Основните типове данни са байт (8), дума(16), двойна дума(32), четворна дума(64),
двойна четворна дума (128), Integer, Unsigned Integer, Floating point, Near Pointer(32
битов логически адрес ), Far Pointer(48 битов логически адрес), Bit Field
(последователност от битове която може да започне от всяка позиция и съдържа до , 32
бита), BCD/Binary Coded Decimal/(кодиране на всяка десетична цифра на число като
набор от бита 4 ).
7.Какво представляват и какви са предимствата на пакетираните типове
данни SIMD?
SIMD/Single Instruction Multiple Data/ е архитектурата за изпълнение на инструкции на
даден векторен процесор Позволява една операция да се извършва едновременно .
върху много неща Два такива типа са . MMX и XMM. MMX типът е разработен за да
ускори мултимедийните програми и програмите за комуникация .
8.Опишете полетата обособяващи формата на инструкциите:
Инструкциите се делят на следните полета :
Instruction Prefixes – отразяват се на поведението на операциите които инструкцията ,
трябва да извърши .
OpCode – от до байта и съдържа код на операцията 1 3 , .
Mod R/M байт – . незадължителен и може да съдържа части от кода на операцията
SIB байт – . незадължителен и представлява комплексни индиректни паметни форми
Displacement и Immediate – незадължителни.
9.Опишете режимите на адресация и Mod R/M полето:
Режимите на адресация са поместени към въпрос 4.
ModR/M полето е незадължително като то дефинира регистрите които се използват в ,
зависимост от типа на операндите Заради това някои инструкции го използват за .
спецификация на формата на операндите Ролята на . ModR/M полето е да дефинира
дали са необходими SIB байт, Immediate и Displacement. 3 – Състои се от полета Mod,
Reg/OpCode, R/M.
10.За какво и как се ползва префиксът?
Чрез префикса може да се променя поведението на инструкцията като например да се ,
сменя сегмента размера на думата да се управлява цикличното изпълнение и , ,
използването на шината .
11.Приложение на управляващите регистри:
При микропроцесорите с архитектура IA32 и Intel-64 управляващите регистри
C0,C1,C2,C3,C4 са битови регистри и се използват за задаване на различни режими 32-
на работа на микропроцесора базови адреси на таблиците с каталога на страниците ,
при странична организация на паметта и някои разширени функционални възможности .
12.Какво е характерно за защитния режим на работа на процесора?
В защитен режим (Protected mode) оперативната памет се организира по по сложен -
начин чрез – Segment Model. В ОП задължително има една GDT, всеки ред на която
сочи към началото на всеки LDT на тази програма . Потребителската програма ’може’ да
се разполага на части в ОП и за всяка част се създава ред наречен дескриптор в , , LDT,
като тя побира части 8192 .
13.Какво предназначението на сегментните селектори?
Сегментните селектори са битови идентификатори на сегмента Старшите бита се 16- . 13
използват за определяне на отместването в GDT и LDT. Трите младши бита имат по -
специфично предназначение В . Protected mode на сегментните регистри се наричат
селектори.
14.Обяснете механизмът за обновяване на страница:
1. Пише се адреса в CR2
2. Става Page Fault, като се добавя код който казва че е причинено от това че , , ,
страницата не е в RAM паметта.
3. Handler-а на Page Fault зарежда страницата от диска и се връща точно преди
инструкцията причинила Page Fault
15.Какво представлява сегментирането на паметта? Предимства и
недостатъци?
Сегментацията предоставя механизъм за изолация на кода данните и стековите модули , ,
така че множеството програми процеси да могат да се изпълняват на един процесор /
без да се месят взаимно .
Предимства защита и изолация на процеси едни от други – .
Недостатъци Сложност и бавност – .
16.Обяснете структурата на задачата при IA32 архитектура:
Всяка задача е изградена от два компонента :
- – 1 , 1 пространство за изпълнение на задачата включва сегмент за код стеков сегмент
и поне сегмент за задачи 1 .
- Task State Segment(TSS) – задава сегментите съставящи пространството за ,
изпълнение на задачата и предоставя място за съхранение на състоянието на задачата .
Всяка задача се идентифицира със сегментния селектор на TSS.
17.Как се осъществява превключването между задачите?
ОС има модул наречен loader, който при команда зарежда задачата като при това в ОП ,
се създава TSS за задачата Освен него има модул за планиране работещ така . :
- . задава команда на процесора за задействането си след даден квант време
- Обхожда таблицата на задачите, като взима първата готова и я стартира След това .
записва състоянието ѝ в TSS, и т н . .
- след изтичане на кванта време, процесора се задейства от таймер и това прекъсване
води до активиране на модула за планиране .
18.Опишете последователността от стъпки поради прекъсване от
изключения:
Аварийният цикъл се състои от следното :
- . запазва се векторното състояние на текущата програма
- чрез сигнал от линиите за прекъсване или като код за линиите за данни към
процесора се определя вида на аварийното събитие .
- . по кода на вида прекъсване се извлича от ОП нов вектор на състоянието
- . Преход към нормален цикъл
19.Каква информация се съдържа в IDT?
В Protected Mode има един дескриптор който представлява ред в таблица на ,
прекъсванията – Interruption Descriptor Table и за нея има един регистър сочещ ,
началото на тази таблица Когато дойде код на прекъсване той се разглежда като код . ,
на отместване в таблицата откъдето се определя началото на съответния програмен ,
модул.
20.Обяснете групите, на които се делят изключенията:
Грешки(Faults) – Откриват се и се обслужват непосредствено преди следващата
команда.
Капани(Traps) – Съобщението за капан се генерира непосредствено в края на текущата
и преди следващата команда .
Повреди(Aborts) – При такива ситуации не винаги се разполага с адреса на командата и
следователно не винаги е възможен рестарт на командата .
21.По какво се различават изключенията от тип faults и aborts.
При faults се знае коя е инструкцията причинила изключението и програмата процесът /
може да се рестартира без загуба При . aborts не винаги се знае коя е инструкцията , 
причинила изключението и следователно не винаги може да се рестартира
процесът командата Също / . faults могат да се коригират докато , aborts не.
22.Каква е функцията на челната част(Front-end)?
Front-end съдържа кеша за проследяване който е кеш за инструкции , .
23.Как работи изпълняващата част?
Изпълняващата част пренарежда микрооперациите по такъв начин че тези чиито ,
операнди са готови да се изпълнят възможно по скоро Тя може да обработи няколко - .
микрооперации за един цикъл .
24.Каква е ролята на завършващата част?
Завършващата част се грижи резултатът от изчисленията да съответства на реда на
постъпване на инструкции и че състоянието на системата се обновява правилно , .
25.Какво представлява и как работи предварителното извличане?
Предварителното извличане на данните в кеша (Cache Prefetching) е техника ,
увеличаваща производителността като копира данните от бавна памет в по бърза още , -
преди да са необходими Най често се използват потокови буфери които се основават . - ,
на последователното изпълнение на инструкции и извличане на данни .
26.Формат на инструкциите при IA32?
Инструкцията съдържа префиксно поле (опционално), REX префикс(опционален),
OpCode(1-3 байта), ModR/M байт, SIB байт, Displacement поле и Immediate поле.
Последните са незадължителни 4 .
27.Поведение на REX префикс?
Към формата на инструкция в битов режим се добавя 64- REX prefix. REX префикса
съдържа полета разширяващи , ModR/M полетата.
28.Обяснете преобразуването на логическия адрес във физически при
сегментно страничната организация на паметта?
В режим на сегментация и странициране получаваме битов линеен адрес Първите 32- .
10 бита от него се умножават по ширината на полето на каталога и се добавят към
началния адрес на каталога В случай че старшия бит на реда в каталога е се взимат . , 1
младшите бита от реда и им се добавят нули отдясно и се прибавя 20 12 (стойността на
полето PN)*(ширината на реда в каталога ). Последните бита на реда съдържат 20
линейния адрес а физическия адрес на нейното начало се получава като отново към , ,
тези бита прибавим нули отдясно и се прибави битовото отместване 20 12 12- .
29.Какви полета съдържа LDT?
LDT е таблица в ОП в която се разполагат частите на потребителската програма като , ,
всяка част е на отделен ред наречен дескриптор Адресът се задава с двойка регистри . –
(сегментен отместване , ) или (сегментен регистър база , - ). Винаги е битов В два бита 16- .
се кодира какъв режим се използва Остават бита число което е отместване в . 13 – ,
дескрипторната таблица .(май са 14)
30.Каква информация се съдържа в Task Register?
Съдържа битовия сегментен селектор и целия сегментен дескриптор на текущата 16-
задача(32- , 16- битов базов адрес битова граница на сегмента и атрибути на
дескриптора).
31.Как се осъществява преобразуването на линеен адрес към 4K-Byte
страница с използване на 32-битово странициране?
Даден линеен адрес ЛА съответства на физически адрес чрез преобразуване полетата ( )
си и DIR, PAGE OFFSET.
Една странична рамка е к байтова единица от съседстващи си адреси от физическа 4 -
памет Страниците са с фиксиран размер . .
Адресния механизъм използва полето на ЛА като индекс в странична директория DIR ,
Page , полето за индексация на странична таблица определена от страничната
директория и полето да адреса байт в страницата определена от страничната , OFFSET
таблица.
32.Обяснете функцията на Task Register:
Предполагам същото като на 30.
33.Обяснете принципа на работа на Cache паметта и протоколите за
процесорите:
Кешовете за механизми за намаляване на латентността на паметта базиращи се на ,
емпиричното наблюдение че структурата на връзките с паметта направени от един ,
процесор е често много предвидима За тях има нещо наречено кохерентен кеш , .
протокол Кеш кохерентността е единността на споделените данни озоваващи в . ,
множеството от локални кешове .
34.Опишете полетата на флаговия регистър:
Представлява битов регистър Съдържа флага наречени условни 16- . 6 – CF, PF, AF, ZF,
OF, SF(CPAZOS). Също има 4 reversed флага както и , 3 undefined флага Освен тях има .
Direction Flag(DF), Interrupt Flag(IF), Trap Flag(TF).
35.Адресиране на операнди при IA32 и Intel-64:
Операндите в паметта се реферират чрез сегмент и отместване в него При битов . 32-
режим адреса на операнда се състои от битов сегментен селектор и битово 16- 32-
отместване в сегмента При битов режим сегментния селектор е битов но . 64- 16- ,
отместването може да бъде до 64^2.
36.Как се изчислява адресът?
Състои се от сегментен селектор и отместване Сегментния селектор сочи към .
дескриптора.
37.Какво е характерно за адресното пространство при Intelx86?(Примерно)
Intelx86 програмите са отделени от физическото адресно пространство т е програмите , . .
могат да бъдат написани без знание колко физическа памет остава и без знание къде
точно във физическата памет се намират инструкциите и информацията .
